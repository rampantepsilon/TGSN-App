<html>
    <head>
        <style>
            body{
                color: white;
            }
        </style>
    </head>

    <body>    
        <table align="center" width="75%">
            <tr>
                <td>
                    <h2>Instructions:</h2>
                    <p>In order to modify the links found below, first navigate to the installation folder for this application. (i.e. the folder where you execute RampantDock)<br>From there, navigate to resources/app/default.js and load this file into the editor.<br>When done adding links, save over the existing file.</p>
                </td>
            </tr>
            <tr>
                <td>
                    <textarea id="inputTextToSave" cols="80" rows="25"></textarea>
                </td>
            </tr>
            <tr>
                <td>
                    <table>
                        <tr>
                            <td>Filename to Save As:</td>
                            <td><input id="inputFileNameToSaveAs" value='default.js' readonly></input></td>
                            <td><button onclick="saveTextAsFile()">Save Text to File</button></td>
                        </tr>
                        <tr>
                            <td>Select a File to Load:</td>
                            <td><input type="file" id="fileToLoad"></td>
                            <td><button onclick="loadFileAsText()">Load Selected File</button><td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
    
        <script type="text/javascript">
            function saveTextAsFile(){
                var textToSave = document.getElementById("inputTextToSave").value;
                var textToSaveAsBlob = new Blob([textToSave], {type:"text/plain"});
                var textToSaveAsURL = window.URL.createObjectURL(textToSaveAsBlob);
                var fileNameToSaveAs = document.getElementById("inputFileNameToSaveAs").value;
            
                var downloadLink = document.createElement("a");
                downloadLink.download = fileNameToSaveAs;
                downloadLink.innerHTML = "Download File";
                downloadLink.href = textToSaveAsURL;
                downloadLink.onclick = destroyClickedElement;
                downloadLink.style.display = "none";
                document.body.appendChild(downloadLink);
            
                downloadLink.click();
            }
            
            function destroyClickedElement(event){
                document.body.removeChild(event.target);
            }
            
            function loadFileAsText(){
                var fileToLoad = document.getElementById("fileToLoad").files[0];
            
                var fileReader = new FileReader();
                fileReader.onload = function(fileLoadedEvent){
                    var textFromFileLoaded = fileLoadedEvent.target.result;
                    document.getElementById("inputTextToSave").value = textFromFileLoaded;
                };
                fileReader.readAsText(fileToLoad, "UTF-8");
            }
        </script>
    
    </body>
</html>